---
layout: post
title: Logging in Python
---
This week I was adding logging functionality into the side project. I wanted pipe all of my output across several modules to the same file, but it doesn't seem like there is a immediately obvious way to do it. There are several options that I considered,
#### 1. Pass the same handler around
This was pretty simple and straightforward, I made my classes have a logging handler as a constructor argument, and in the `__init__` function it creates a new logger and adds a handler to it.

```
class Foo:

  def __init__(self, handler):
      self.logger = logging.getLogger(__name__)
      self.logger.setLevel(logging.INFO)
      self.logger.addHandler(handler)
```

#### 2. Function that generates a logger with handler
```
def get_logger(name):
  rfh = RotatingFileHandler('log.log', maxBytes=100000, backupCount=5)
  logger = logging.getLogger(name)
  logger.addHandler(rfh)
  return logger
```
This function would then be imported wherever I needed to log anything. Every logger would then pipe to the same file.

#### 3. Using a Mixin
I ran across [this Stack Overflow post](http://stackoverflow.com/questions/15780151/how-to-use-python-logging-in-multiple-modules) about suggesting using a mixin for python classes, then if any class needed to log, they all could and to the same file. The downside is this acts like a root logger because there is only one instantiated. (This code is copied from that post for Python 3).
```
class LogMixin:
    @property
    def logger(self):
        name = '.'.join([__name__, self.__class__.__name__])
        return logging.getLogger(name)
```
